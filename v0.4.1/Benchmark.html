

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Runtime Benchmark &mdash; py_stringmatching 0.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Tversky Index" href="TverskyIndex.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> py_stringmatching
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="WhatIsNew.html">What is New?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tokenizer.html">Tokenizers</a></li>
<li class="toctree-l1"><a class="reference internal" href="SimilarityMeasure.html">Similarity Measures</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Runtime Benchmark</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-the-benchmark">Running the Benchmark</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interpreting-the-results">Interpreting the Results</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">py_stringmatching</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Runtime Benchmark</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Benchmark.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="runtime-benchmark">
<h1>Runtime Benchmark<a class="headerlink" href="#runtime-benchmark" title="Permalink to this headline">¶</a></h1>
<p>For this package, we add a runtime benchmark (consisting of a script and several datasets) to measure the runtime performance of similarity measures. This benchmark can be used by users to judge whether similarity measures are fast enough for their purposes, and used by developers to speed up the measures.</p>
<div class="section" id="running-the-benchmark">
<h2>Running the Benchmark<a class="headerlink" href="#running-the-benchmark" title="Permalink to this headline">¶</a></h2>
<p>The user can run the benchmark as follows:</p>
<p>Step 1: Clone the py_stringmatching package from GitHub using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">anhaidgroup</span><span class="o">/</span><span class="n">py_stringmatching</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>Step 2: Change the working directory to py_stringmatching/benchmarks/custom_benchmarks</p>
<p>Step 3: Run the benchmark using the following sequence of commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">py_stringmatching</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">run_benchmark</span> <span class="k">import</span> <span class="o">*</span>
<span class="go"># create an object for the similarity measure you need to benchmark</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jaccard</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">Jaccard</span><span class="p">()</span>
<span class="go"># create a tokenizer object (in case of token-based measures)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ws</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">WhitespaceTokenizer</span><span class="p">(</span><span class="n">return_set</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="go"># Set dataset paths</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">short_strings_path</span> <span class="o">=</span> <span class="s1">&#39;datasets/short_strings.csv&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">medium_strings_path</span> <span class="o">=</span> <span class="s1">&#39;datasets/medium_strings.csv&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">long_strings_path</span> <span class="o">=</span> <span class="s1">&#39;datasets/long_strings.csv&#39;</span>
<span class="go"># Data size (number of string pairs) over which the benchmark should be run</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_size</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="go"># Number of times to repeat</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num_repeat</span> <span class="o">=</span> <span class="mi">3</span>
<span class="go"># Output file where the benchmark results should be written</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_file</span> <span class="o">=</span> <span class="s1">&#39;benchmark_results.csv&#39;</span>
<span class="go"># run the benchmark</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">run_benchmark</span><span class="p">(</span><span class="n">short_strings_path</span><span class="p">,</span> <span class="n">medium_strings_path</span><span class="p">,</span> <span class="n">long_strings_path</span><span class="p">,</span> <span class="n">data_size</span> <span class="o">=</span> <span class="n">data_size</span><span class="p">,</span> <span class="n">jaccard</span><span class="o">.</span><span class="n">get_sim_score</span><span class="p">,</span> <span class="n">ws</span><span class="o">.</span><span class="n">tokenize</span><span class="p">,</span> <span class="n">num_repeat</span> <span class="o">=</span> <span class="n">num_repeat</span><span class="p">,</span> <span class="n">output_file</span> <span class="o">=</span> <span class="n">output_file</span><span class="p">)</span>
</pre></div>
</div>
<p>The benchmark contains three datasets in the <cite>datasets</cite> directory: (1) short_strings.csv, (2) medium_strings.csv, and (3) long_strings.csv. Each dataset contains 5000 strings. Specifically, short_strings.csv contains strings with length in the range of 2-15 (avg. of 10), medium_strings.csv contains strings with length in the range of 18-39 (avg. of 25), and
long_strings.csv contains strings with length in the range of 60-1726 (avg. of 127).</p>
<p>The above command will run the benchmark for 9 different configurations
(short-short, short-medium, short-long, medium-short, medium-medium, medium-long,
long-short, long-medium, long-long) for the provided similarity measure, and
writes the result to the provided output file. See below for additional details.</p>
</div>
<div class="section" id="interpreting-the-results">
<h2>Interpreting the Results<a class="headerlink" href="#interpreting-the-results" title="Permalink to this headline">¶</a></h2>
<p>The benchmark results will be a CSV file containing the following information:</p>
<blockquote>
<div><ul class="simple">
<li>Configuration</li>
<li>Runtime (in secs) for each run of a configuration (note that each configuration is run for <cite>num_repeat</cite> times)</li>
<li>Average runtime (in secs) for each configuration</li>
</ul>
</div></blockquote>
<p>An example output file will look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">configuration</span><span class="p">,</span><span class="n">run_1</span> <span class="p">(</span><span class="ow">in</span> <span class="n">secs</span><span class="p">),</span><span class="n">run_2</span> <span class="p">(</span><span class="ow">in</span> <span class="n">secs</span><span class="p">),</span><span class="n">run_3</span> <span class="p">(</span><span class="ow">in</span> <span class="n">secs</span><span class="p">),</span><span class="n">average</span> <span class="p">(</span><span class="ow">in</span> <span class="n">secs</span><span class="p">)</span>
<span class="n">short_short</span><span class="p">,</span><span class="mf">0.112642049789</span><span class="p">,</span><span class="mf">0.112892866135</span><span class="p">,</span><span class="mf">0.112852096558</span><span class="p">,</span><span class="mf">0.112795670827</span>
<span class="n">short_medium</span><span class="p">,</span><span class="mf">0.115404129028</span><span class="p">,</span><span class="mf">0.115512132645</span><span class="p">,</span><span class="mf">0.115454912186</span><span class="p">,</span><span class="mf">0.115457057953</span>
<span class="n">short_long</span><span class="p">,</span><span class="mf">0.194123983383</span><span class="p">,</span><span class="mf">0.193922996521</span><span class="p">,</span><span class="mf">0.193790912628</span><span class="p">,</span><span class="mf">0.193945964177</span>
<span class="n">medium_short</span><span class="p">,</span><span class="mf">0.11647105217</span><span class="p">,</span><span class="mf">0.116579055786</span><span class="p">,</span><span class="mf">0.116438865662</span><span class="p">,</span><span class="mf">0.116496324539</span>
<span class="n">medium_medium</span><span class="p">,</span><span class="mf">0.118470907211</span><span class="p">,</span><span class="mf">0.118409156799</span><span class="p">,</span><span class="mf">0.118496894836</span><span class="p">,</span><span class="mf">0.118458986282</span>
<span class="n">medium_long</span><span class="p">,</span><span class="mf">0.206312894821</span><span class="p">,</span><span class="mf">0.206974983215</span><span class="p">,</span><span class="mf">0.206708908081</span><span class="p">,</span><span class="mf">0.206665595373</span>
<span class="n">long_short</span><span class="p">,</span><span class="mf">0.205050945282</span><span class="p">,</span><span class="mf">0.205410957336</span><span class="p">,</span><span class="mf">0.205253124237</span><span class="p">,</span><span class="mf">0.205238342285</span>
<span class="n">long_medium</span><span class="p">,</span><span class="mf">0.217441797256</span><span class="p">,</span><span class="mf">0.21806883812</span><span class="p">,</span><span class="mf">0.218235015869</span><span class="p">,</span><span class="mf">0.217915217082</span>
<span class="n">long_long</span><span class="p">,</span><span class="mf">0.770321846008</span><span class="p">,</span><span class="mf">0.76869893074</span><span class="p">,</span><span class="mf">0.768806934357</span><span class="p">,</span><span class="mf">0.769275903702</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="TverskyIndex.html" class="btn btn-neutral float-left" title="Tversky Index" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, py_stringmatching Team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>